(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5346:(e,t,l)=>{"use strict";l.r(t),l.d(t,{GlobalError:()=>i.a,__next_app__:()=>g,originalPathname:()=>d,pages:()=>f,routeModule:()=>h,tree:()=>c}),l(908),l(1506),l(5866);var a=l(3191),o=l(8716),r=l(7922),i=l.n(r),n=l(5231),s={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>n[e]);l.d(t,s);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(l.bind(l,908)),"D:\\Giramille\\Giramille-Clean\\frontend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(l.bind(l,1506)),"D:\\Giramille\\Giramille-Clean\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,5866,23)),"next/dist/client/components/not-found-error"]}],f=["D:\\Giramille\\Giramille-Clean\\frontend\\app\\page.tsx"],d="/page",g={require:l,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8818:(e,t,l)=>{Promise.resolve().then(l.bind(l,8743))},8743:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>n});var a=l(326),o=l(7626),r=l.n(o),i=l(7577);function n(){let[e,t]=(0,i.useState)(1),[l,o]=(0,i.useState)(1280),[n,s]=(0,i.useState)(720),[c,f]=(0,i.useState)(""),[d,g]=(0,i.useState)(["data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#ff6b6b"/><text x="20" y="48" font-size="20" fill="#fff">Test 1</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#4ecdc4"/><text x="20" y="48" font-size="20" fill="#fff">Test 2</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#45b7d1"/><text x="20" y="48" font-size="20" fill="#fff">Test 3</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#96ceb4"/><text x="20" y="48" font-size="20" fill="#fff">Test 4</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#feca57"/><text x="20" y="48" font-size="20" fill="#fff">Test 5</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#ff9ff3"/><text x="20" y="48" font-size="20" fill="#fff">Test 6</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#54a0ff"/><text x="20" y="48" font-size="20" fill="#fff">Test 7</text></svg>'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect width="512" height="512" fill="#5f27cd"/><text x="20" y="48" font-size="20" fill="#fff">Test 8</text></svg>')]),[h,u]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),[b,x]=(0,i.useState)(null),w=(0,i.useRef)(null),[v,y]=(0,i.useState)(()=>{let e={prompt:{l:60,t:180,w:350,h:270},vecBtn:{l:510,t:325,w:280,h:105},pngBtn:{l:510,t:490,w:280,h:105},hist:{l:935,t:192,w:320,h:398}};try{let t=localStorage.getItem("ui_rects");if(t)return{...e,...JSON.parse(t)}}catch{}return e}),S=l/1280,P=n/720,k=e=>({left:e.l*S,top:e.t*P,width:e.w*S,height:e.h*P}),M=(e,t)=>{p&&(e.preventDefault(),x({key:t,dx:e.clientX,dy:e.clientY}))},j=async(e,t)=>{console.log("AI Image Generation - Prompt:",e,"Type:",t);try{console.log("\uD83D\uDD04 Calling backend API...");let t=await fetch("http://localhost:5000/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,style:"cartoon",quality:"balanced",width:512,height:512})});if(console.log("\uD83D\uDCE1 API Response status:",t.status),!t.ok)throw Error(`HTTP error! status: ${t.status}`);let l=await t.json();if(l.success&&l.image)return console.log("✅ AI Generated image from backend:",l.image.length),l.image;throw Error("No image generated")}catch(o){console.error("❌ Backend API error:",o),console.log("\uD83D\uDD04 Using fallback local generation...");let l=document.createElement("canvas");l.width=512,l.height=512;let a=l.getContext("2d");return a.clearRect(0,0,512,512),C(a,e,t),l.toDataURL("image/png")}},C=(e,t,l)=>{let a=t.toLowerCase(),o=a.includes("realistic")||a.includes("photo")||a.includes("photograph"),r=a.includes("cartoon")||a.includes("anime")||a.includes("manga"),i=a.includes("abstract")||a.includes("artistic")||a.includes("creative"),n=a.includes("minimal")||a.includes("simple")||a.includes("clean"),s=R(t),c=s.primary,f=s.secondary,d=s.accent,g=I(t);"png"===l?D(e,t,g,c,f,d,o,r,i,n):T(e,t,g,c,f,d,n)},R=e=>{let t=e.toLowerCase(),l=[];for(let[e,a]of Object.entries({red:"#ff4757",blue:"#3742fa",green:"#2ed573",yellow:"#ffa502",purple:"#5f27cd",orange:"#ff6348",pink:"#ff3838",brown:"#8b4513",black:"#2c2c54",white:"#f8f9fa",gray:"#57606f",cyan:"#0abde3",magenta:"#ff6b6b",lime:"#32ff7e",indigo:"#4834d4",violet:"#9c88ff"}))t.includes(e)&&l.push(a);return{primary:l[0]||"#4ecdc4",secondary:l[1]||"#ff6b6b",accent:l[2]||"#feca57"}},I=e=>{let t=e.toLowerCase(),l=[];for(let[e,a]of Object.entries({house:["house","home","building","casa","casa"],car:["car","vehicle","auto","carro"],tree:["tree","plant","forest","\xe1rvore"],person:["person","people","man","woman","child","pessoa"],animal:["cat","dog","bird","fish","animal","gato","cachorro"],nature:["mountain","ocean","sky","cloud","sun","moon","montanha"],food:["food","fruit","apple","banana","comida"],abstract:["abstract","pattern","design","art","arte"]}))a.some(e=>t.includes(e))&&l.push(e);return l.length>0?l:["abstract"]},D=(e,t,l,a,o,r,i,n,s,c)=>{if(s){let t=e.createRadialGradient(256,256,0,256,256,300);t.addColorStop(0,a+"40"),t.addColorStop(.5,o+"20"),t.addColorStop(1,r+"10"),e.fillStyle=t,e.fillRect(0,0,512,512)}else{let t=e.createLinearGradient(0,0,512,512);t.addColorStop(0,a+"30"),t.addColorStop(1,o+"20"),e.fillStyle=t,e.fillRect(0,0,512,512)}l.forEach((t,l)=>{G(e,t,a,o,r,l,i,n,s)}),$(e,t,a,o,r,i,n,s),e.fillStyle="rgba(0,0,0,0.3)",e.font="bold 16px Arial",e.textAlign="center",e.fillText(t,256,480)},T=(e,t,l,a,o,r,i)=>{e.fillStyle="#ffffff",e.fillRect(0,0,512,512),l.forEach((t,l)=>{O(e,t,a,o,r,l,i)}),L(e,t,a,o,r,i),e.fillStyle="rgba(0,0,0,0.5)",e.font="bold 14px Arial",e.textAlign="center",e.fillText(t,256,480)},G=(e,t,l,a,o,r,i,n,s)=>{let c=100+150*r+100*Math.random(),f=150+200*Math.random(),d=60+80*Math.random();switch(e.fillStyle=l,e.strokeStyle=a,e.lineWidth=i?2:4,t){case"house":N(e,c,f,d,l,a,o,i,n);break;case"car":z(e,c,f,d,l,a,o,i,n);break;case"tree":_(e,c,f,d,l,a,o,i,n);break;case"person":B(e,c,f,d,l,a,o,i,n);break;case"animal":E(e,c,f,d,l,a,o,i,n);break;case"nature":A(e,c,f,d,l,a,o,i,n);break;case"food":q(e,c,f,d,l,a,o,i,n);break;default:U(e,c,f,d,l,a,o,s)}},N=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle=o,e.fillRect(t-a/2,l-a/3,a,.6*a),e.fillStyle=r,e.beginPath(),e.moveTo(t-a/2,l-a/3),e.lineTo(t,l-a/2),e.lineTo(t+a/2,l-a/3),e.closePath(),e.fill(),e.fillStyle=i,e.fillRect(t-a/8,l-a/6,a/4,a/3),e.fillStyle="#87ceeb",e.fillRect(t-a/3,l-a/4,a/6,a/6),e.fillRect(t+a/6,l-a/4,a/6,a/6),n&&(e.fillStyle="rgba(0,0,0,0.2)",e.fillRect(t-a/2,l+a/6,a,4))},z=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle=o,e.fillRect(t-a/2,l-a/4,a,a/2),e.fillStyle="#2c2c54",e.beginPath(),e.arc(t-a/3,l+a/4,a/8,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(t+a/3,l+a/4,a/8,0,2*Math.PI),e.fill(),e.fillStyle="#87ceeb",e.fillRect(t-a/3,l-a/6,a/3,a/6)},_=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle="#8b4513",e.fillRect(t-a/12,l-a/6,a/6,a/3),e.fillStyle=o,e.beginPath(),e.arc(t,l-a/3,a/3,0,2*Math.PI),e.fill()},B=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle=o,e.beginPath(),e.arc(t,l-a/3,a/6,0,2*Math.PI),e.fill(),e.fillStyle=r,e.fillRect(t-a/8,l-a/6,a/4,a/3),e.fillRect(t-a/4,l-a/8,a/6,a/8),e.fillRect(t+a/12,l-a/8,a/6,a/8),e.fillRect(t-a/12,l+a/8,a/12,a/4),e.fillRect(t,l+a/8,a/12,a/4)},E=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle=o,e.beginPath(),e.ellipse(t,l,a/3,a/4,0,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(t,l-a/4,a/6,0,2*Math.PI),e.fill(),e.fillStyle=r,e.beginPath(),e.arc(t-a/8,l-a/3,a/12,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(t+a/8,l-a/3,a/12,0,2*Math.PI),e.fill()},A=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle=o,e.beginPath(),e.moveTo(t-a/2,l+a/4),e.lineTo(t,l-a/4),e.lineTo(t+a/2,l+a/4),e.closePath(),e.fill(),e.fillStyle=i,e.beginPath(),e.arc(t+a/3,l-a/3,a/8,0,2*Math.PI),e.fill()},q=(e,t,l,a,o,r,i,n,s)=>{e.fillStyle=o,e.beginPath(),e.arc(t,l,a/4,0,2*Math.PI),e.fill(),e.fillStyle=r,e.fillRect(t-a/16,l-a/4,a/8,a/8)},U=(e,t,l,a,o,r,i,n)=>{e.fillStyle=o;for(let o=0;o<5;o++){let r=o*Math.PI*2/5,i=t+Math.cos(r)*a/3,n=l+Math.sin(r)*a/3;e.beginPath(),e.arc(i,n,a/8,0,2*Math.PI),e.fill()}},O=(e,t,l,a,o,r,i)=>{let n=100+150*r+100*Math.random(),s=150+200*Math.random(),c=40+60*Math.random();switch(e.fillStyle=l,e.strokeStyle=a,e.lineWidth=3,t){case"house":e.fillRect(n-c/2,s-c/3,c,.6*c),e.beginPath(),e.moveTo(n-c/2,s-c/3),e.lineTo(n,s-c/2),e.lineTo(n+c/2,s-c/3),e.closePath(),e.fill();break;case"car":e.fillRect(n-c/2,s-c/4,c,c/2);break;default:e.beginPath(),e.arc(n,s,c/2,0,2*Math.PI),e.fill()}},$=(e,t,l,a,o,r,i,n)=>{if(r){e.fillStyle="rgba(255,255,255,0.1)";for(let t=0;t<20;t++)e.fillRect(512*Math.random(),512*Math.random(),2,2)}else if(i){e.fillStyle=o;for(let t=0;t<10;t++)e.beginPath(),e.arc(512*Math.random(),512*Math.random(),3,0,2*Math.PI),e.fill()}},L=(e,t,l,a,o,r)=>{e.strokeStyle=o,e.lineWidth=2;for(let t=0;t<5;t++)e.beginPath(),e.moveTo(512*Math.random(),512*Math.random()),e.lineTo(512*Math.random(),512*Math.random()),e.stroke()},W=async()=>{if(!c.trim()){console.log("No prompt provided");return}console.log("\uD83D\uDE80 Starting vector generation for prompt:",c);try{let e=await j(c,"vector");console.log("✅ Generated image successfully:",e.substring(0,50)+"..."),u(e),g(t=>[e,...t].slice(0,20))}catch(e){console.error("❌ Error generating vector:",e),alert("Error generating image: "+e.message)}},X=async()=>{if(!c.trim()){console.log("No prompt provided");return}console.log("\uD83D\uDE80 Starting PNG generation for prompt:",c);try{let e=await j(c,"png");console.log("✅ Generated image successfully:",e.substring(0,50)+"..."),u(e),g(t=>[e,...t].slice(0,20))}catch(e){console.error("❌ Error generating PNG:",e),alert("Error generating image: "+e.message)}};return a.jsx("main",{className:"min-h-screen w-full bg-black flex items-start justify-center overflow-auto",children:(0,a.jsxs)("div",{style:{width:l,height:n,transform:`scale(${e})`,transformOrigin:"top center"},onMouseMove:e=>{if(!b)return;let{key:t,dx:l,dy:a}=b,o=(e.clientX-l)/S,r=(e.clientY-a)/P,i=v[t],n={...v,[t]:{...i,l:Math.max(0,i.l+o),t:Math.max(0,i.t+r)}};x({key:t,dx:e.clientX,dy:e.clientY}),function(e){y(e);try{localStorage.setItem("ui_rects",JSON.stringify(e))}catch{}}(n)},onMouseUp:()=>x(null),className:"jsx-e6ab7573aa30f4c5 relative overflow-hidden",children:[a.jsx(r(),{id:"e6ab7573aa30f4c5",children:".scrollbox{scrollbar-width:thin;scrollbar-color:#000080#0000}.scrollbox::-webkit-scrollbar{width:12px;height:12px;background:transparent}.scrollbox::-webkit-scrollbar-track{background:transparent}.scrollbox::-webkit-scrollbar-thumb{background:#000080;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;border:1px solid rgba(255,255,255,.1)}.scrollbox::-webkit-scrollbar-thumb:hover{background:#00a}"}),a.jsx("img",{ref:w,src:"/static/stage1/stage-1-bg.jpg",alt:"",onLoad:e=>{let l=e.currentTarget,a=l.naturalWidth||1280,r=l.naturalHeight||720;o(a),s(r),t(window.innerWidth/a)},className:"jsx-e6ab7573aa30f4c5 absolute inset-0 w-full h-full object-cover z-0 pointer-events-none"}),a.jsx("img",{src:"/static/stage1/stage-1-UI.png",alt:"",className:"jsx-e6ab7573aa30f4c5 absolute inset-0 w-full h-full object-contain z-10 pointer-events-none"}),a.jsx("div",{style:{...k(v.prompt),borderRadius:16},onMouseDown:e=>M(e,"prompt"),className:`jsx-e6ab7573aa30f4c5 absolute z-20 overflow-auto scrollbox ${p?"outline outline-2 outline-yellow-400":""}`,children:a.jsx("textarea",{style:{fontSize:"13px",color:"#000080",padding:"6px 10px",whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere",boxSizing:"border-box"},value:c,onChange:e=>f(e.target.value),wrap:"soft",className:"jsx-e6ab7573aa30f4c5 w-full h-full bg-transparent outline-none resize-none border-0 scrollbox"})}),a.jsx("button",{style:{...k(v.vecBtn),background:"transparent",cursor:"pointer"},onMouseDown:e=>M(e,"vecBtn"),onClick:W,"aria-label":"Gerar Vetor",className:`jsx-e6ab7573aa30f4c5 absolute z-20 ${p?"outline outline-2 outline-yellow-400":""}`}),a.jsx("button",{style:{...k(v.pngBtn),background:"transparent",cursor:"pointer"},onMouseDown:e=>M(e,"pngBtn"),onClick:X,"aria-label":"Gerar PNG",className:`jsx-e6ab7573aa30f4c5 absolute z-20 ${p?"outline outline-2 outline-yellow-400":""}`}),a.jsx("div",{style:{...k(v.hist)},onMouseDown:e=>M(e,"hist"),className:`jsx-e6ab7573aa30f4c5 absolute z-20 overflow-auto scrollbox ${p?"outline outline-2 outline-yellow-400":""}`,children:a.jsx("div",{className:"jsx-e6ab7573aa30f4c5 grid grid-cols-1 gap-2",children:d.map((e,t)=>a.jsx("img",{src:e,alt:"hist-"+t,onClick:()=>u(e),className:"jsx-e6ab7573aa30f4c5 w-full h-24 object-cover rounded cursor-pointer"},t))})}),a.jsx("button",{onClick:()=>m(e=>!e),className:"jsx-e6ab7573aa30f4c5 absolute z-30 bottom-2 right-2 bg-white/70 text-black px-3 py-1 rounded",children:p?"Lock":"Calibrate"}),a.jsx("button",{onClick:()=>window.location.href="/advanced",className:"jsx-e6ab7573aa30f4c5 absolute z-30 bottom-2 left-2 bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Advanced Studio"}),a.jsx("button",{onClick:()=>window.location.href="/stage2",className:"jsx-e6ab7573aa30f4c5 absolute z-30 bottom-2 left-40 bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700 transition-colors",children:"Stage 2"})]})})}},908:(e,t,l)=>{"use strict";l.r(t),l.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});var a=l(8570);let o=(0,a.createProxy)(String.raw`D:\Giramille\Giramille-Clean\frontend\app\page.tsx`),{__esModule:r,$$typeof:i}=o;o.default;let n=(0,a.createProxy)(String.raw`D:\Giramille\Giramille-Clean\frontend\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var l=e=>t(t.s=e),a=t.X(0,[819,935],()=>l(5346));module.exports=a})();